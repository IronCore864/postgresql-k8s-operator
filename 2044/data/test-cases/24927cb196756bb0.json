{"uid":"24927cb196756bb0","name":"test_restart_db_process[postgres]","fullName":"tests.integration.ha_tests.test_self_healing#test_restart_db_process","historyId":"a9ad457c3a959b4124e0bcbca7775fea","time":{"start":1710812295176,"stop":1710812339000,"duration":43824},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"ops_test","time":{"start":1710811794061,"stop":1710811794294,"duration":233},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1710811794061,"stop":1710811794061,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1710811794061,"stop":1710811794061,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1710812078416,"stop":1710812098671,"duration":20255},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1710812295175,"stop":1710812295175,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1710812295175,"stop":1710812295175,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"c58752d23d4b97dd","name":"log","source":"c58752d23d4b97dd.txt","type":"text/plain","size":2043}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1710812339001,"stop":1710812340019,"duration":1018},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1710812340020,"stop":1710812340020,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1710814653806,"stop":1710814805946,"duration":152140},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x74698a2a1300 state=finished raised RetryError>]\n","statusTrace":"  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 294, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(ops_test, \"primary_start_timeout\", initial_primary_start_timeout)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/tests/integration/ha_tests/helpers.py\", line 97, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1710814805947,"stop":1710814806319,"duration":372},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1710814806320,"stop":1710814806321,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1710814806321,"stop":1710814806321,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1710814806321,"stop":1710814806321,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az573-278"},{"name":"thread","value":"12572-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'postgres'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":4,"passed":36,"unknown":0,"total":40},"items":[{"uid":"2d4ff8896828698a","reportUrl":"../2032//#testresult/2d4ff8896828698a","status":"passed","time":{"start":1710725827335,"stop":1710725862085,"duration":34750}},{"uid":"f7c2527bb734b63","reportUrl":"../2029//#testresult/f7c2527bb734b63","status":"passed","time":{"start":1710639558318,"stop":1710639603113,"duration":44795}},{"uid":"a21df61f7fcc6385","reportUrl":"../2027//#testresult/a21df61f7fcc6385","status":"passed","time":{"start":1710553097036,"stop":1710553138757,"duration":41721}},{"uid":"fea591bef80eb158","reportUrl":"../2025//#testresult/fea591bef80eb158","status":"passed","time":{"start":1710466661668,"stop":1710466703397,"duration":41729}},{"uid":"ca6dd2ae0e142ccd","reportUrl":"../2021//#testresult/ca6dd2ae0e142ccd","status":"passed","time":{"start":1710380238412,"stop":1710380273153,"duration":34741}},{"uid":"bede177b45d8fe3c","reportUrl":"../2015//#testresult/bede177b45d8fe3c","status":"passed","time":{"start":1710293835072,"stop":1710293873822,"duration":38750}},{"uid":"5409dedbfa969f5f","reportUrl":"../2011//#testresult/5409dedbfa969f5f","status":"passed","time":{"start":1710207403952,"stop":1710207451946,"duration":47994}},{"uid":"9c375a05ef8a25dd","reportUrl":"../2005//#testresult/9c375a05ef8a25dd","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1710120666163,"stop":1710120666163,"duration":0}},{"uid":"eee4b107ff144b3a","reportUrl":"../2000//#testresult/eee4b107ff144b3a","status":"passed","time":{"start":1710034663834,"stop":1710034709678,"duration":45844}},{"uid":"b8e30cb915a81d4b","reportUrl":"../1997//#testresult/b8e30cb915a81d4b","status":"passed","time":{"start":1709948093520,"stop":1709948137317,"duration":43797}},{"uid":"f1f8d933a886f145","reportUrl":"../1993//#testresult/f1f8d933a886f145","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1709861411050,"stop":1709861411050,"duration":0}},{"uid":"fbae8ebb5b599e17","reportUrl":"../1986//#testresult/fbae8ebb5b599e17","status":"passed","time":{"start":1709774936562,"stop":1709774981414,"duration":44852}},{"uid":"5162557d231ff948","reportUrl":"../1943//#testresult/5162557d231ff948","status":"passed","time":{"start":1709084110003,"stop":1709084152973,"duration":42970}},{"uid":"5fde62675e50b03e","reportUrl":"../1936//#testresult/5fde62675e50b03e","status":"passed","time":{"start":1708997669703,"stop":1708997713430,"duration":43727}},{"uid":"f195e3823874b87","reportUrl":"../1931//#testresult/f195e3823874b87","status":"passed","time":{"start":1708911394403,"stop":1708911436356,"duration":41953}},{"uid":"88378fb7b7dc74f0","reportUrl":"../1927//#testresult/88378fb7b7dc74f0","status":"passed","time":{"start":1708738539506,"stop":1708738588720,"duration":49214}},{"uid":"8e0da22880584d1f","reportUrl":"../1922//#testresult/8e0da22880584d1f","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1708651745739,"stop":1708651745739,"duration":0}},{"uid":"beb189dece2748c4","reportUrl":"../1919//#testresult/beb189dece2748c4","status":"passed","time":{"start":1708565703673,"stop":1708565749414,"duration":45741}},{"uid":"775721379b337005","reportUrl":"../1916//#testresult/775721379b337005","status":"passed","time":{"start":1708479360060,"stop":1708479408103,"duration":48043}},{"uid":"d7233c61885a450b","reportUrl":"../1911//#testresult/d7233c61885a450b","status":"passed","time":{"start":1708392901877,"stop":1708392947694,"duration":45817}}]},"tags":["asyncio","group(1)"]},"source":"24927cb196756bb0.json","parameterValues":["'postgres'"]}