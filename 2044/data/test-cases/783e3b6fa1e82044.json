{"uid":"783e3b6fa1e82044","name":"test_restart_db_process[/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_restart_db_process","historyId":"2f08e1ab0e41cda77079b84fc6d18166","time":{"start":1710812340022,"stop":1710812376926,"duration":36904},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"ops_test","time":{"start":1710811794061,"stop":1710811794294,"duration":233},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1710811794061,"stop":1710811794061,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1710811794061,"stop":1710811794061,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1710812078416,"stop":1710812098671,"duration":20255},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1710812340021,"stop":1710812340021,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1710812340021,"stop":1710812340022,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"e0c94956fbcd32a2","name":"log","source":"e0c94956fbcd32a2.txt","type":"text/plain","size":2627}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1710812376926,"stop":1710812377949,"duration":1023},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1710812377949,"stop":1710812377949,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1710814653806,"stop":1710814805946,"duration":152140},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x74698a2a1300 state=finished raised RetryError>]\n","statusTrace":"  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 294, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(ops_test, \"primary_start_timeout\", initial_primary_start_timeout)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/tests/integration/ha_tests/helpers.py\", line 97, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1710814805947,"stop":1710814806319,"duration":372},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1710814806320,"stop":1710814806321,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1710814806321,"stop":1710814806321,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1710814806321,"stop":1710814806321,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az573-278"},{"name":"thread","value":"12572-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":4,"passed":36,"unknown":0,"total":40},"items":[{"uid":"253bfaaeaf773677","reportUrl":"../2032//#testresult/253bfaaeaf773677","status":"passed","time":{"start":1710725863109,"stop":1710725910073,"duration":46964}},{"uid":"8ab220387a286ace","reportUrl":"../2029//#testresult/8ab220387a286ace","status":"passed","time":{"start":1710639604136,"stop":1710639651207,"duration":47071}},{"uid":"e7e8ef8f127c465b","reportUrl":"../2027//#testresult/e7e8ef8f127c465b","status":"passed","time":{"start":1710553139779,"stop":1710553183578,"duration":43799}},{"uid":"218ec2b2820a0b3","reportUrl":"../2025//#testresult/218ec2b2820a0b3","status":"passed","time":{"start":1710466704419,"stop":1710466751468,"duration":47049}},{"uid":"cb7297e743708a7e","reportUrl":"../2021//#testresult/cb7297e743708a7e","status":"passed","time":{"start":1710380274176,"stop":1710380318991,"duration":44815}},{"uid":"21d55e6909ab1207","reportUrl":"../2015//#testresult/21d55e6909ab1207","status":"passed","time":{"start":1710293874844,"stop":1710293921844,"duration":47000}},{"uid":"2155ab48b7334e4d","reportUrl":"../2011//#testresult/2155ab48b7334e4d","status":"passed","time":{"start":1710207452968,"stop":1710207501918,"duration":48950}},{"uid":"7df1a36b117dc143","reportUrl":"../2005//#testresult/7df1a36b117dc143","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1710120666167,"stop":1710120666167,"duration":0}},{"uid":"18f87fbb7bbb147d","reportUrl":"../2000//#testresult/18f87fbb7bbb147d","status":"passed","time":{"start":1710034710702,"stop":1710034758735,"duration":48033}},{"uid":"e5f9b6eabe7a5c05","reportUrl":"../1997//#testresult/e5f9b6eabe7a5c05","status":"passed","time":{"start":1709948138338,"stop":1709948185363,"duration":47025}},{"uid":"e5c295f884cbea6f","reportUrl":"../1993//#testresult/e5c295f884cbea6f","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1709861411053,"stop":1709861411053,"duration":0}},{"uid":"2b24c43bca7c417","reportUrl":"../1986//#testresult/2b24c43bca7c417","status":"passed","time":{"start":1709774982435,"stop":1709775027326,"duration":44891}},{"uid":"a6d98304e3ef1cd8","reportUrl":"../1943//#testresult/a6d98304e3ef1cd8","status":"passed","time":{"start":1709084153995,"stop":1709084201105,"duration":47110}},{"uid":"9c13b655b685507a","reportUrl":"../1936//#testresult/9c13b655b685507a","status":"passed","time":{"start":1708997714452,"stop":1708997761423,"duration":46971}},{"uid":"2a38909b8dcc9795","reportUrl":"../1931//#testresult/2a38909b8dcc9795","status":"passed","time":{"start":1708911437385,"stop":1708911476133,"duration":38748}},{"uid":"71b0bfd2d7ec4064","reportUrl":"../1927//#testresult/71b0bfd2d7ec4064","status":"passed","time":{"start":1708738589745,"stop":1708738635654,"duration":45909}},{"uid":"565320a771b3f774","reportUrl":"../1922//#testresult/565320a771b3f774","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1708651745742,"stop":1708651745742,"duration":0}},{"uid":"cd2f90ccc74d7e86","reportUrl":"../1919//#testresult/cd2f90ccc74d7e86","status":"passed","time":{"start":1708565750438,"stop":1708565795228,"duration":44790}},{"uid":"5776019236df1e0f","reportUrl":"../1916//#testresult/5776019236df1e0f","status":"passed","time":{"start":1708479409126,"stop":1708479457191,"duration":48065}},{"uid":"ce2ab553027664b9","reportUrl":"../1911//#testresult/ce2ab553027664b9","status":"passed","time":{"start":1708392948717,"stop":1708392994578,"duration":45861}}]},"tags":["asyncio","group(1)"]},"source":"783e3b6fa1e82044.json","parameterValues":["'/usr/bin/patroni'"]}