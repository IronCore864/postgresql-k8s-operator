{"uid":"1155f1db5c55d02e","name":"test_forceful_restart_without_data_and_transaction_logs","fullName":"tests.integration.ha_tests.test_self_healing#test_forceful_restart_without_data_and_transaction_logs","historyId":"1ab295315f12ae381caee21d2bb9082a","time":{"start":1710813074862,"stop":1710813136218,"duration":61356},"description":"A forceful restart with deleted data and without transaction logs (forced clone).","descriptionHtml":"<p>A forceful restart with deleted data and without transaction logs (forced clone).</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"ops_test","time":{"start":1710811794061,"stop":1710811794294,"duration":233},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1710811794061,"stop":1710811794061,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1710811794061,"stop":1710811794061,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1710812078416,"stop":1710812098671,"duration":20255},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1710813068638,"stop":1710813068638,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1710813068638,"stop":1710813068638,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wal_settings","time":{"start":1710813068638,"stop":1710813074861,"duration":6223},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"A forceful restart with deleted data and without transaction logs (forced clone).","status":"passed","steps":[],"attachments":[{"uid":"b68d5e8e7167f8ed","name":"log","source":"b68d5e8e7167f8ed.txt","type":"text/plain","size":3605}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"wal_settings::finalizer","time":{"start":1710813136219,"stop":1710813136350,"duration":131},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1710813136351,"stop":1710813137389,"duration":1038},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1710813137390,"stop":1710813137390,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1710814653806,"stop":1710814805946,"duration":152140},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x74698a2a1300 state=finished raised RetryError>]\n","statusTrace":"  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 294, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(ops_test, \"primary_start_timeout\", initial_primary_start_timeout)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/tests/integration/ha_tests/helpers.py\", line 97, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1710814805947,"stop":1710814806319,"duration":372},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1710814806320,"stop":1710814806321,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1710814806321,"stop":1710814806321,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1710814806321,"stop":1710814806321,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az573-278"},{"name":"thread","value":"12572-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":2,"skipped":4,"passed":31,"unknown":0,"total":40},"items":[{"uid":"8c1a8a36e8c72b6b","reportUrl":"../2032//#testresult/8c1a8a36e8c72b6b","status":"passed","time":{"start":1710726593365,"stop":1710726646391,"duration":53026}},{"uid":"9a8d966f6fee51da","reportUrl":"../2029//#testresult/9a8d966f6fee51da","status":"passed","time":{"start":1710640323956,"stop":1710640378637,"duration":54681}},{"uid":"1c75d0f19ad0fb7c","reportUrl":"../2027//#testresult/1c75d0f19ad0fb7c","status":"broken","statusDetails":"AttributeError: 'NoneType' object has no attribute 'split'","time":{"start":1710553857682,"stop":1710553898449,"duration":40767}},{"uid":"863af104d9694b28","reportUrl":"../2025//#testresult/863af104d9694b28","status":"passed","time":{"start":1710467490857,"stop":1710467590107,"duration":99250}},{"uid":"fcc82db38676ad34","reportUrl":"../2021//#testresult/fcc82db38676ad34","status":"passed","time":{"start":1710381044996,"stop":1710381105984,"duration":60988}},{"uid":"b22433fae6527b57","reportUrl":"../2015//#testresult/b22433fae6527b57","status":"passed","time":{"start":1710294619468,"stop":1710294678285,"duration":58817}},{"uid":"c0c1219df00eea5","reportUrl":"../2011//#testresult/c0c1219df00eea5","status":"passed","time":{"start":1710208220209,"stop":1710208277622,"duration":57413}},{"uid":"81611f250bf76094","reportUrl":"../2005//#testresult/81611f250bf76094","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1710120666182,"stop":1710120666182,"duration":0}},{"uid":"ba0a47ff1659bae7","reportUrl":"../2000//#testresult/ba0a47ff1659bae7","status":"passed","time":{"start":1710035459268,"stop":1710035519106,"duration":59838}},{"uid":"faef3f4eb3aaba3c","reportUrl":"../1997//#testresult/faef3f4eb3aaba3c","status":"passed","time":{"start":1709948891248,"stop":1709948948017,"duration":56769}},{"uid":"ffe78c214b98f1bf","reportUrl":"../1993//#testresult/ffe78c214b98f1bf","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1709861411072,"stop":1709861411072,"duration":0}},{"uid":"d9368d1e18b7deab","reportUrl":"../1986//#testresult/d9368d1e18b7deab","status":"passed","time":{"start":1709775715171,"stop":1709775771172,"duration":56001}},{"uid":"3c21a56d41755988","reportUrl":"../1943//#testresult/3c21a56d41755988","status":"passed","time":{"start":1709084988140,"stop":1709085045152,"duration":57012}},{"uid":"95e0034837a7c29b","reportUrl":"../1936//#testresult/95e0034837a7c29b","status":"passed","time":{"start":1708998488909,"stop":1708998549945,"duration":61036}},{"uid":"a2a182b516894f60","reportUrl":"../1931//#testresult/a2a182b516894f60","status":"passed","time":{"start":1708912223690,"stop":1708912279825,"duration":56135}},{"uid":"153b1258ca843ce5","reportUrl":"../1927//#testresult/153b1258ca843ce5","status":"passed","time":{"start":1708739363796,"stop":1708739419876,"duration":56080}},{"uid":"b93580bca966ad6b","reportUrl":"../1922//#testresult/b93580bca966ad6b","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1708651745757,"stop":1708651745757,"duration":0}},{"uid":"cd18dcef12c2c2ab","reportUrl":"../1919//#testresult/cd18dcef12c2c2ab","status":"passed","time":{"start":1708566478059,"stop":1708566540016,"duration":61957}},{"uid":"a462b2fe03fa9260","reportUrl":"../1916//#testresult/a462b2fe03fa9260","status":"passed","time":{"start":1708480217527,"stop":1708480279238,"duration":61711}},{"uid":"f469a21898b6514f","reportUrl":"../1911//#testresult/f469a21898b6514f","status":"passed","time":{"start":1708393680903,"stop":1708393736171,"duration":55268}}]},"tags":["asyncio","group(1)"]},"source":"1155f1db5c55d02e.json","parameterValues":[]}