{"uid":"54b036e599d6858a","name":"test_freeze_db_process[/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_freeze_db_process","historyId":"f19cf908e4f4066494ef1baefc04234b","time":{"start":1721613171496,"stop":1721613269135,"duration":97639},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1721612232771,"stop":1721612232771,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1721612232771,"stop":1721612232771,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1721612232772,"stop":1721612233018,"duration":246},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1721612883066,"stop":1721612887263,"duration":4197},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1721613171495,"stop":1721613171495,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1721613171495,"stop":1721613171496,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"a73f4d45ed31d275","name":"log","source":"a73f4d45ed31d275.txt","type":"text/plain","size":2720}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1721613269136,"stop":1721613270157,"duration":1021},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1721613270157,"stop":1721613270157,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1721615049297,"stop":1721615131983,"duration":82686},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f251ad670a0 state=finished raised AttributeError>]\n","statusTrace":"  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(ops_test, \"primary_start_timeout\", initial_primary_start_timeout)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/tests/integration/ha_tests/helpers.py\", line 108, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 443, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 376, in iter\n    result = action(retry_state)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 419, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1721615131984,"stop":1721615132489,"duration":505},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1721615132490,"stop":1721615132490,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1721615132490,"stop":1721615132490,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1721615132490,"stop":1721615132491,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az768-602"},{"name":"thread","value":"12950-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"517e2cf0b97af3ce","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":1,"passed":60,"unknown":2,"total":63},"items":[{"uid":"b432c2749d30e7c3","reportUrl":"../2705//#testresult/b432c2749d30e7c3","status":"passed","time":{"start":1721526972081,"stop":1721527069886,"duration":97805}},{"uid":"b9a13dc8378dfb59","reportUrl":"../2704//#testresult/b9a13dc8378dfb59","status":"passed","time":{"start":1721440286403,"stop":1721440378909,"duration":92506}},{"uid":"802710d9d9bf3a5c","reportUrl":"../2701//#testresult/802710d9d9bf3a5c","status":"passed","time":{"start":1721357478876,"stop":1721357571360,"duration":92484}},{"uid":"ead3cca30e3a8679","reportUrl":"../2698//#testresult/ead3cca30e3a8679","status":"passed","time":{"start":1721267801754,"stop":1721267899367,"duration":97613}},{"uid":"b47aaa9d5517761a","reportUrl":"../2689//#testresult/b47aaa9d5517761a","status":"passed","time":{"start":1721181173695,"stop":1721181271381,"duration":97686}},{"uid":"8c78b113a0c99484","reportUrl":"../2686//#testresult/8c78b113a0c99484","status":"unknown","time":{}},{"uid":"98966406656badd3","reportUrl":"../2681//#testresult/98966406656badd3","status":"passed","time":{"start":1721008475868,"stop":1721008576642,"duration":100774}},{"uid":"9fadee192174f960","reportUrl":"../2680//#testresult/9fadee192174f960","status":"passed","time":{"start":1720921982974,"stop":1720922075769,"duration":92795}},{"uid":"4151d6d0b7f2b3b8","reportUrl":"../2679//#testresult/4151d6d0b7f2b3b8","status":"passed","time":{"start":1720835754317,"stop":1720835901234,"duration":146917}},{"uid":"8032b229154f4a3a","reportUrl":"../2673//#testresult/8032b229154f4a3a","status":"passed","time":{"start":1720749000967,"stop":1720749093713,"duration":92746}},{"uid":"bc7ae2d45995f6a1","reportUrl":"../2663//#testresult/bc7ae2d45995f6a1","status":"passed","time":{"start":1720662484185,"stop":1720662581675,"duration":97490}},{"uid":"31740f669bdcb5f8","reportUrl":"../2654//#testresult/31740f669bdcb5f8","status":"passed","time":{"start":1720575685918,"stop":1720575783730,"duration":97812}},{"uid":"6405e68040b7c12a","reportUrl":"../2644//#testresult/6405e68040b7c12a","status":"passed","time":{"start":1720489436240,"stop":1720489534128,"duration":97888}},{"uid":"2c2acb4207e29e9f","reportUrl":"../2631//#testresult/2c2acb4207e29e9f","status":"passed","time":{"start":1720403247106,"stop":1720403347880,"duration":100774}},{"uid":"52a3edb05be4d4a1","reportUrl":"../2630//#testresult/52a3edb05be4d4a1","status":"passed","time":{"start":1720316627509,"stop":1720316725042,"duration":97533}},{"uid":"eab46415c2f13e39","reportUrl":"../2629//#testresult/eab46415c2f13e39","status":"passed","time":{"start":1720230129650,"stop":1720230230482,"duration":100832}},{"uid":"63aa181420fec420","reportUrl":"../2617//#testresult/63aa181420fec420","status":"passed","time":{"start":1720143894760,"stop":1720143992869,"duration":98109}},{"uid":"666b5737ed4c71a","reportUrl":"../2614//#testresult/666b5737ed4c71a","status":"passed","time":{"start":1720057403344,"stop":1720057495112,"duration":91768}},{"uid":"160cfe83aa983e4d","reportUrl":"../2603//#testresult/160cfe83aa983e4d","status":"passed","time":{"start":1719970765037,"stop":1719970862594,"duration":97557}},{"uid":"38a49ca1ffc5df51","reportUrl":"../2596//#testresult/38a49ca1ffc5df51","status":"passed","time":{"start":1719884381767,"stop":1719884474372,"duration":92605}}]},"tags":["asyncio","group(1)"]},"source":"54b036e599d6858a.json","parameterValues":["'/usr/bin/patroni'"]}