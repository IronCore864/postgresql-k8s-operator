{"uid":"c5114092a73e428a","name":"test_restart_db_process[/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_restart_db_process","historyId":"2f08e1ab0e41cda77079b84fc6d18166","time":{"start":1720057541117,"stop":1720057590005,"duration":48888},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"ops_test","time":{"start":1720056918669,"stop":1720056918898,"duration":229},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1720056918669,"stop":1720056918669,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1720056918669,"stop":1720056918669,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1720057292107,"stop":1720057296299,"duration":4192},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1720057541116,"stop":1720057541116,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1720057541117,"stop":1720057541117,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"5c9049a44f1a1843","name":"log","source":"5c9049a44f1a1843.txt","type":"text/plain","size":2610}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1720057590005,"stop":1720057591023,"duration":1018},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1720057591024,"stop":1720057591024,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1720060074619,"stop":1720060213283,"duration":138664},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7efd68337e50 state=finished raised AttributeError>]\n","statusTrace":"  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(ops_test, \"primary_start_timeout\", initial_primary_start_timeout)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/tests/integration/ha_tests/helpers.py\", line 108, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 443, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 376, in iter\n    result = action(retry_state)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 419, in exc_check\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1720060213283,"stop":1720060213928,"duration":645},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1720060213929,"stop":1720060213930,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1720060213930,"stop":1720060213931,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1720060213931,"stop":1720060213931,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az569-610"},{"name":"thread","value":"12478-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"582d31b9eb529a80","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":1,"passed":43,"unknown":1,"total":45},"items":[{"uid":"1f3224cb0e0855a0","reportUrl":"../2603//#testresult/1f3224cb0e0855a0","status":"passed","time":{"start":1719970911441,"stop":1719970950504,"duration":39063}},{"uid":"6c59f8f9a5134a4","reportUrl":"../2596//#testresult/6c59f8f9a5134a4","status":"passed","time":{"start":1719884525312,"stop":1719884567094,"duration":41782}},{"uid":"4f7b28d103010c09","reportUrl":"../2588//#testresult/4f7b28d103010c09","status":"unknown","time":{}},{"uid":"29a92d4d834cf09f","reportUrl":"../2587//#testresult/29a92d4d834cf09f","status":"passed","time":{"start":1719711738913,"stop":1719711782917,"duration":44004}},{"uid":"caa002cb73216833","reportUrl":"../2584//#testresult/caa002cb73216833","status":"passed","time":{"start":1719625265937,"stop":1719625304870,"duration":38933}},{"uid":"d17cb109ac07435d","reportUrl":"../2578//#testresult/d17cb109ac07435d","status":"passed","time":{"start":1719539046222,"stop":1719539095191,"duration":48969}},{"uid":"e844f47bd25f0190","reportUrl":"../2574//#testresult/e844f47bd25f0190","status":"passed","time":{"start":1719452554128,"stop":1719452597994,"duration":43866}},{"uid":"1691a842b4f5a5fa","reportUrl":"../2565//#testresult/1691a842b4f5a5fa","status":"passed","time":{"start":1719366138081,"stop":1719366187057,"duration":48976}},{"uid":"6ef1801d326135b1","reportUrl":"../2554//#testresult/6ef1801d326135b1","status":"passed","time":{"start":1719279683371,"stop":1719279732324,"duration":48953}},{"uid":"4d2fbcb2caba539c","reportUrl":"../2550//#testresult/4d2fbcb2caba539c","status":"passed","time":{"start":1719193370467,"stop":1719193414563,"duration":44096}},{"uid":"5d3d5c86703e66ff","reportUrl":"../2549//#testresult/5d3d5c86703e66ff","status":"passed","time":{"start":1719106940887,"stop":1719106984828,"duration":43941}},{"uid":"b4b43e53e29cc8ed","reportUrl":"../2548//#testresult/b4b43e53e29cc8ed","status":"passed","time":{"start":1719020420185,"stop":1719020466953,"duration":46768}},{"uid":"cbb93d2d06694362","reportUrl":"../2539//#testresult/cbb93d2d06694362","status":"passed","time":{"start":1718934148937,"stop":1718934190762,"duration":41825}},{"uid":"fcd10200bb2e173c","reportUrl":"../2522//#testresult/fcd10200bb2e173c","status":"passed","time":{"start":1718847754266,"stop":1718847803206,"duration":48940}},{"uid":"4da17bb660b31ef8","reportUrl":"../2503//#testresult/4da17bb660b31ef8","status":"passed","time":{"start":1718761266094,"stop":1718761312960,"duration":46866}},{"uid":"71dc85432f2e65c4","reportUrl":"../2499//#testresult/71dc85432f2e65c4","status":"passed","time":{"start":1718675033470,"stop":1718675075240,"duration":41770}},{"uid":"e745f4638b8402fc","reportUrl":"../2492//#testresult/e745f4638b8402fc","status":"passed","time":{"start":1718588526903,"stop":1718588573690,"duration":46787}},{"uid":"66fb5f0973915685","reportUrl":"../2490//#testresult/66fb5f0973915685","status":"passed","time":{"start":1718502172078,"stop":1718502216040,"duration":43962}},{"uid":"d19581d57949075a","reportUrl":"../2482//#testresult/d19581d57949075a","status":"passed","time":{"start":1718415761674,"stop":1718415810563,"duration":48889}},{"uid":"a00ed3484f1b509e","reportUrl":"../2468//#testresult/a00ed3484f1b509e","status":"passed","time":{"start":1718329962619,"stop":1718330009433,"duration":46814}}]},"tags":["asyncio","group(1)"]},"source":"c5114092a73e428a.json","parameterValues":["'/usr/bin/patroni'"]}