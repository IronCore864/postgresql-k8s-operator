{"uid":"9b4251bf31ec22bb","name":"test_restart_db_process[/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_restart_db_process","historyId":"2f08e1ab0e41cda77079b84fc6d18166","time":{"start":1714095738509,"stop":1714095784511,"duration":46002},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop","time":{"start":1714095195913,"stop":1714095195913,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1714095195913,"stop":1714095196153,"duration":240},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1714095195913,"stop":1714095195913,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout","time":{"start":1714095490742,"stop":1714095492909,"duration":2167},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1714095738508,"stop":1714095738508,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1714095738508,"stop":1714095738508,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[],"attachments":[{"uid":"d0a43599d5a30a99","name":"log","source":"d0a43599d5a30a99.txt","type":"text/plain","size":2610}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1714095784511,"stop":1714095785530,"duration":1019},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1714095785530,"stop":1714095785530,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"primary_start_timeout::finalizer","time":{"start":1714098405102,"stop":1714098557254,"duration":152152},"status":"broken","statusMessage":"tenacity.RetryError: RetryError[<Future at 0x7f4fb9538520 state=finished raised RetryError>]\n","statusTrace":"  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 302, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 294, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/tests/integration/ha_tests/conftest.py\", line 68, in primary_start_timeout\n    await change_patroni_setting(ops_test, \"primary_start_timeout\", initial_primary_start_timeout)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/tests/integration/ha_tests/helpers.py\", line 97, in change_patroni_setting\n    for attempt in Retrying(stop=stop_after_delay(30 * 2), wait=wait_fixed(3)):\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 347, in __iter__\n    do = self.iter(retry_state=retry_state)\n  File \"/home/runner/work/postgresql-k8s-operator/postgresql-k8s-operator/.tox/integration/lib/python3.10/site-packages/tenacity/__init__.py\", line 326, in iter\n    raise retry_exc from fut.exception()\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1714098557255,"stop":1714098557620,"duration":365},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1714098557621,"stop":1714098557622,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1714098557622,"stop":1714098557622,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1714098557622,"stop":1714098557622,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az840-177"},{"name":"thread","value":"12465-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/usr/bin/patroni'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":4,"passed":71,"unknown":0,"total":75},"items":[{"uid":"dc6244c6a66f2e5c","reportUrl":"../2208//#testresult/dc6244c6a66f2e5c","status":"passed","time":{"start":1714009503502,"stop":1714009551598,"duration":48096}},{"uid":"f816919158af799a","reportUrl":"../2199//#testresult/f816919158af799a","status":"passed","time":{"start":1713836976370,"stop":1713837017247,"duration":40877}},{"uid":"4f24c0358ef757f1","reportUrl":"../2186//#testresult/4f24c0358ef757f1","status":"passed","time":{"start":1713749982359,"stop":1713750031318,"duration":48959}},{"uid":"12e842b3c9ba576d","reportUrl":"../2176//#testresult/12e842b3c9ba576d","status":"passed","time":{"start":1713663697597,"stop":1713663738402,"duration":40805}},{"uid":"18214e2e72f85b74","reportUrl":"../2170//#testresult/18214e2e72f85b74","status":"passed","time":{"start":1713577193663,"stop":1713577241719,"duration":48056}},{"uid":"befe6838ea595e7d","reportUrl":"../2168//#testresult/befe6838ea595e7d","status":"passed","time":{"start":1713490878180,"stop":1713490921980,"duration":43800}},{"uid":"2a7718e1200f3d67","reportUrl":"../2166//#testresult/2a7718e1200f3d67","status":"passed","time":{"start":1713404307824,"stop":1713404353812,"duration":45988}},{"uid":"c8c2bc8f05058d15","reportUrl":"../2161//#testresult/c8c2bc8f05058d15","status":"passed","time":{"start":1713318173142,"stop":1713318220007,"duration":46865}},{"uid":"b3be398751774aa","reportUrl":"../2156//#testresult/b3be398751774aa","status":"passed","time":{"start":1713150462771,"stop":1713150511901,"duration":49130}},{"uid":"660c19b996cdd88e","reportUrl":"../2154//#testresult/660c19b996cdd88e","status":"passed","time":{"start":1713058905650,"stop":1713058950533,"duration":44883}},{"uid":"26676d812ed413c","reportUrl":"../2153//#testresult/26676d812ed413c","status":"passed","time":{"start":1712972029816,"stop":1712972074636,"duration":44820}},{"uid":"24dce48678eb87dc","reportUrl":"../2151//#testresult/24dce48678eb87dc","status":"passed","time":{"start":1712886299641,"stop":1712886346448,"duration":46807}},{"uid":"c7a495229cd05e71","reportUrl":"../2144//#testresult/c7a495229cd05e71","status":"passed","time":{"start":1712799595940,"stop":1712799642950,"duration":47010}},{"uid":"bf6742869478d4c4","reportUrl":"../2128//#testresult/bf6742869478d4c4","status":"passed","time":{"start":1712713158821,"stop":1712713201903,"duration":43082}},{"uid":"747a2ea394192f1c","reportUrl":"../2112//#testresult/747a2ea394192f1c","status":"passed","time":{"start":1712540416901,"stop":1712540456736,"duration":39835}},{"uid":"8b7957aa04061da2","reportUrl":"../2111//#testresult/8b7957aa04061da2","status":"passed","time":{"start":1712453997531,"stop":1712454044574,"duration":47043}},{"uid":"1fe9fc2a9e6921e1","reportUrl":"../2110//#testresult/1fe9fc2a9e6921e1","status":"passed","time":{"start":1712367504192,"stop":1712367544970,"duration":40778}},{"uid":"c60e11a6975ab8c9","reportUrl":"../2106//#testresult/c60e11a6975ab8c9","status":"passed","time":{"start":1712281153931,"stop":1712281200914,"duration":46983}},{"uid":"5ebdff99622aeed8","reportUrl":"../2100//#testresult/5ebdff99622aeed8","status":"passed","time":{"start":1712194850478,"stop":1712194894511,"duration":44033}},{"uid":"a1bb3d12bfb5f017","reportUrl":"../2097//#testresult/a1bb3d12bfb5f017","status":"passed","time":{"start":1712108359107,"stop":1712108398822,"duration":39715}}]},"tags":["asyncio","group(1)"]},"source":"9b4251bf31ec22bb.json","parameterValues":["'/usr/bin/patroni'"]}